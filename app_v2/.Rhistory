shiny::runApp()
runApp()
install.packages("leaflet")
runApp()
install.packages("ggmap")
runApp()
install.packages("rgal")
install.packages("rgdal")
runApp()
install.packages("shinyWidgets")
runApp()
knitr::opts_chunk$set(echo = TRUE)
nbhood <- readShapePoly("../data/nbhood/geo_export_63264cca-db33-43e7-ac15-9019c83788c0.shp")
library(maptools)
library(tigris)
install.packages("tigris")
library(maptools)
library(tigris)
library(RColorBrewer)
library(dplyr)
library(grDevices)
library(leaflet)
nbhood <- readShapePoly("../data/nbhood/geo_export_63264cca-db33-43e7-ac15-9019c83788c0.shp")
tree <- readRDS("../data/sample_data_2015.rds")
tree$nta <- factor(tree$nta, levels = nbhood@data$ntacode)
tree_count <- tree %>%
group_by(nta, .drop = F) %>%
tally()
combined <- geo_join(nbhood, tree_count, by_sp = "ntacode", by_df = "nta")
NYC_coord <- c(lon = -74.00597, lat = 40.71278)
quantile(tree_count$n)
pal <- colorBin(c("gray", colorRampPalette(c("lightgreen", "darkgreen"))(5)),
bins = c(0, 1, seq(10, 50, by = 10)))
leaflet(combined) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(lat = NYC_coord["lat"], lng = NYC_coord["lon"], zoom = 10) %>%
addPolygons(fillColor = ~pal(n), color = "black", weight = 1, fillOpacity = 0.8) %>%
addLegend(pal = pal, values = c(0, 1, seq(10, 50, by = 10)))
a <- labelFormat(prefix = "", suffix = "", between = " &ndash; ",
digits = 3, big.mark = ",", transform = identity)
